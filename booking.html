
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link href="{% static 'img/favicon.ico'%}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;600;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css'%}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css'%}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css'%}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css'%}" rel="stylesheet">
  
  <title>Technician availability</title>
  <style>


/*** Navbar ***/
.navbar.sticky-top {
    top: -100px;
    transition: .5s;
}

.navbar .navbar-brand img {
    max-height: 60px;
}

.navbar .navbar-nav .nav-link {
    margin-left: 25px;
    padding: 10px 0;
    color: #696E77;
    font-weight: 400;
    outline: none;
}

.navbar .navbar-nav .nav-link:hover,
.navbar .navbar-nav .nav-link.active {
    color: var(--primary);
}

.navbar .dropdown-toggle::after {
    border: none;
    content: "\f107";
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    vertical-align: middle;
    margin-left: 8px;
}

@media (max-width: 991.98px) {
    .navbar .navbar-brand img {
        max-height: 45px;
    }

    .navbar .navbar-nav {
        margin-top: 20px;
        margin-bottom: 15px;
    }

    .navbar .nav-item .dropdown-menu {
        padding-left: 30px;
    }
}

@media (min-width: 992px) {
    .navbar .nav-item .dropdown-menu {
        display: block;
        border: none;
        margin-top: 0;
        top: 150%;
        right: 0;
        opacity: 0;
        visibility: hidden;
        transition: .5s;
    }

    .navbar .nav-item:hover .dropdown-menu {
        top: 100%;
        visibility: visible;
        transition: .5s;
        opacity: 1;
    }
}

body {
  font-family: 'Arial', sans-serif;
  background-color: #f4f4f4;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
}

nav {
  background-color: #fff;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  z-index: 1000;
}


form {
        margin-top: 20px;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
    }

    form label {
        display: block;
        margin-bottom: 8px;
    }

    form input,
    form select,
    form textarea {
        width: 100%;
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

    form button {
        background-color: #007bff;
        color: #fff;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    form button:hover {
        background-color: #0056b3;
    }


 
  .error-message {
    color: red;
  }



  /* Add the following style for animation */
  h3 {
            position: relative;
            animation: moveRight 8s linear infinite; /* Adjust the duration as needed */
            color: #cd6216;
        }

        /* Define the animation keyframes */
        @keyframes moveRight {
            0% {
                left: 0;
            }
            100% {
                left: 100%; /* Adjust to the width you want the heading to move */
            }
        }

   
    </style>



  </style>
</head>
<body>
    

<nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top px-4 px-lg-5">
    <a href="{% url 'index' %}" class="navbar-brand d-flex align-items-center">
        <h6 class="m-0"><img class="img-fluid me-3" src="{% static 'img/icon/icon-02-primary.png'%}" alt="">EasyTech Repairs</h6>
    </a>
    <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav mx-auto bg-light pe-4 py-3 py-lg-0">
            <a href="" class="nav-item nav-link active"></a>
            <a href="" class="nav-item nav-link active"></a>
            

            <!-- Display Home and Services links for authenticated users -->
            <a href="{% url 'customer_profile' %}" class="nav-item nav-link active" style="color: black;">Home</a>
            <a href="{% url 'services' %}" class="nav-item nav-link"  style="color: black;">Our Services</a>
            <a href="" class="nav-item nav-link active"></a>
            <a href="" class="nav-item nav-link active"></a>
            
            <!-- Display Register and Login links for non-authenticated users -->

        </div>
    </div>
</nav>







<!-- booking.html -->
{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-dismissible {% if message.tags %}{{ message.tags }}{% endif %}" role="alert">
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}



<h3><b>Book Your Service</b></h3>
<div class="container">
    <form action="" method="post">
        {% csrf_token %}
        <label for="fullname">Full Name</label>
        <input type="text" id="fullname" name="fullname" required>
        <span id="fullname-error" class="error-message"></span>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="{{ user.email }}" required readonly>

        <label for="service">Select a Service</label>
        <select id="service" name="service">
            <option value="AC Repairer">AC Repairer</option>
        <option value="Plumber">Plumber</option>
        <option value="Electrician">Electrician</option>
        <option value="TV Repairer">TV Repairer</option>
        </select>

        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" name="phone" required>
        <span id="phone-error" class="error-message"></span>

        <label for="district">Select District</label>
        <select id="district" name="district">
            <option value="Thiruvananthapuram">Thiruvananthapuram</option>
            <option value="Kollam">Kollam</option>
            <option value="Pathanamthitta">Pathanamthitta</option>
            <option value="Alappuzha">Alappuzha</option>
            <option value="Kottayam">Kottayam</option>
            <option value="Idukki">Idukki</option>
            <option value="Ernakulam">Ernakulam</option>
            <option value="Thrissur">Thrissur</option>
            <option value="Palakkad">Palakkad</option>
            <option value="Malappuram">Malappuram</option>
            <option value="Kozhikode">Kozhikode</option>
            <option value="Wayanad">Wayanad</option>
            <option value="Kannur">Kannur</option>
            <option value="Kasargod">Kasargod</option>
            
            <!-- Add more district options as needed -->
        </select>

        <label for="date">Preferred Date</label>
        <input type="date" id="date" name="date" required>
        <span id="date-error" class="error-message"></span>



        <label for="description">Description</label>
        <textarea id="description" name="description" rows="4" required></textarea>
        <span id="description-error" class="error-message"></span>

        <button type="submit">Submit</button>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var form = document.getElementById('yourForm');
        var fullnameInput = document.getElementById('fullname');
        var fullnameError = document.getElementById('fullname-error');
        var phoneInput = document.getElementById('phone');
        var phoneError = document.getElementById('phone-error');
        var dateInput = document.getElementById('date');
        var dateError = document.getElementById('date-error');
        var descriptionInput = document.getElementById('description');
        var descriptionError = document.getElementById('description-error'); 
    
        fullnameInput.addEventListener('input', function() {
            validateFullName(this.value);
        });

        phoneInput.addEventListener('input', function() {
            validatePhoneNumber(this.value);
        });

        dateInput.addEventListener('input', function() {
            validateDate(this.value);
        });

        descriptionInput.addEventListener('input', function() {
            validateDescription(this.value);
        });
    
        form.addEventListener('submit', function(event) {
            if (!validateFullName(fullnameInput.value) || !validatePhoneNumber(phoneInput.value) || !validateDate(dateInput.value) || !validateDescription(descriptionInput.value)) {
                event.preventDefault(); // Prevent form submission if validation fails
            }
            // Add other form validation logic here
        });
    

        function validateFullName(name) {
            // Presence Check
            if (name.trim() === '') {
                fullnameError.textContent = 'Full name cannot be blank.';
                return false;
            }
    
            // Character Set Check
            if (!/^[a-zA-Z\s]+$/.test(name)) {
                fullnameError.textContent = 'Only alphabetic characters are allowed.';
                return false;
            }
    
            // Format Check (First letter of each part should be uppercase)
            var nameParts = name.split(' ');
            for (var i = 0; i < nameParts.length; i++) {
                if (!/^[A-Z][a-z]*$/.test(nameParts[i])) {
                    fullnameError.textContent = 'Each part of the name should start with a capital letter.';
                    return false;
                }
            }
    
            // Whitespace Handling
            fullnameError.textContent = ''; // Clear previous error message
            return true;
        }



        function validatePhoneNumber(phone) {
            // Presence Check
            if (phone.trim() === '') {
                phoneError.textContent = 'Phone number cannot be blank.';
                return false;
            }
    
            // Numeric Check
            if (!/^\d+$/.test(phone)) {
                phoneError.textContent = 'Phone number should only contain numeric characters.';
                return false;
            }
    
            // Length Check
            if (phone.length !== 10) {
                phoneError.textContent = 'Phone number should be 10 digits.';
                return false;
            }
    
            // Clear previous error message
            phoneError.textContent = '';
            return true;
        }



        function validateDate(date) {
            // Presence Check
            if (date.trim() === '') {
                dateError.textContent = 'Date cannot be blank.';
                return false;
            }

            // Date Format Check (Assuming YYYY-MM-DD format, adjust as needed)
            if (!/^\d{4}-\d{2}-\d{2}$/.test(date)) {
                dateError.textContent = 'Invalid date format. Please use YYYY-MM-DD.';
                return false;
            }

            // Future Date Check (Optional)
            var currentDate = new Date();
            var selectedDate = new Date(date);
            if (selectedDate <= currentDate) {
                dateError.textContent = 'Please select a future date.';
                return false;
            }

            // Clear previous error message
            dateError.textContent = '';
            return true;
        }


        function validateDescription(description) {
            // Presence Check
            if (description.trim() === '') {
                descriptionError.textContent = 'Description cannot be blank.';
                return false;
            }

            // Length Check (Adjust the maximum length as needed)
            var maxLength = 200; // Example: Set a maximum length of 500 characters
            if (description.length > maxLength) {
                descriptionError.textContent = 'Description should not exceed ' + maxLength + ' characters.';
                return false;
            }

            // Clear previous error message
            descriptionError.textContent = '';
            return true;
        }



    });
</script>

  



</body>
</html>
